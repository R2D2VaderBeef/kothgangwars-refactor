<!DOCTYPE HTML>
<HTML lang="en">
<head>
  
  <meta property="og:type" content="website">
<meta property="og:title" content="Scoreboard">
<meta property="og:url" content="https://kothgangwars.herokuapp.com/scoreboard.html">
<meta property="og:description" content="The scoreboard for this Season">
<meta property="og:image" content="https://kothgangwars.herokuapp.com/logo.png">
<meta property="og:site_name" content="KOTH Unofficial Gang Wars">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
.sticky {
  position: fixed;
  top: 0;
  width: 10%;
  background-color: #52a8db;
  height: 100%;
  overflow-x: hidden;
}

h1 {
  font-family: Arial, Helvetica, sans-serif;
  color:#d43e46;
  font-size: 5rem;
}

h2 {
  font-family: Arial, Helvetica, sans-serif;
  color:white;
  font-size: 3rem;
}

p1 {
  font-family: Arial, Helvetica, sans-serif; 
  font-size: 2rem;   
  margin-left: 1%;
}

p2 {
  font-family: Arial, Helvetica, sans-serif; 
  font-size: 2rem;   
  margin-left: 10%;
  font-weight: bold;
}


.blue {
    background-color: #7ac1eb;
    margin-left: 10.5%;
}

table{
  margin-left:3%;
}

table, th, td {
  border: 1px solid black;
  font-family: Arial, Helvetica, sans-serif;
  font-size:1.5rem;
  text-align: center;
}

th, td{
    padding: 5px;
}
.spacer{
    height: 20px;
}

.minispacer{
  height: 10px;
}

.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #52a8db;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 1.5rem;
  font-family:Arial, Helvetica, sans-serif;
  color: #000000;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #d43e46;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
</style>

<title>Scoreboard | KOTH Unofficial Gang Wars</title>

<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
</head>
<body>
  
<div class="sticky">
  <img src="logo.png" width=100% alt="KOTH Gang Wars Logo">
  <div class="spacer"></div>
  
  <span style="font-size:2rem;font-family:Arial, Helvetica, sans-serif;cursor:pointer;text-align: center;" onclick="openNav()">&#9776; Menu</span> 
  <script>
    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
    }
    
    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
    }
    </script>
  </div>
  
<div class="blue">
  <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a href="index.html">Home</a>
      
      <a href="scoreboard.html">Scoreboard</a>
      <a href="https://trello.com/b/mZ8fEopu/koth-gang-wars-season-2-calendar/">Calendar</a>
      <div class="spacer"></div>
      <a href="input.html">Input</a>
      <a href="auth.html">Auth</a>
  </div>

<h1 style="background-color: #52a8db;">War 1 Scoreboard</h1>
<p1>Latest Version<br></p1>

<div class="spacer"></div>
<p2>HAIL THE DEVS</p2>
<div class="minispacer"></div>
<table id="scoretable1">
  <tr>
    <th>Gang Member</th>
    <th>Game Points</th>
    <th>Sets Played</th>
    <th>Game Wins</th>
    <th>Game Losses</th>
    <th>Bonuses</th>
    <th>Total Points</th>
    <th>STRIKES</th>
  </tr>
  <tr>
    <td>Megamarcos1508</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
  <tr>
    <td>Starch Lord</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
  <tr>
    <td>Very Handsome</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
  <tr>
    <td>R2D2Vader</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
<tfoot>
<tr>
  <th>Gang Totals</th>
  <th>0</th>
  <th>0</th>
  <th>0</th>
  <th>0</th>
  <th>0</th>
  <th style="font-size: 2rem;">0</th>
  <th>0</th>
</tr>
  </tfoot>
</table>

<script>
  console.log("Started getData");
 getData();
 async function getData() {
   const table = document.getElementById("scoretable1");
 const rows = table.rows;
 for (i = 1; i < (rows.length - 1); i++) {
 
 const name = rows[i].getElementsByTagName("TD")[0];
 const points = rows[i].getElementsByTagName("TD")[1];
 const sets = rows[i].getElementsByTagName("TD")[2];
 const wins = rows[i].getElementsByTagName("TD")[3];
 const losses = rows[i].getElementsByTagName("TD")[4];
 const bonuses = rows[i].getElementsByTagName("TD")[5];
 const total = rows[i].getElementsByTagName("TD")[6];
 const strikes = rows[i].getElementsByTagName("TD")[7];
 
 console.log("Got row constants for " + name.innerHTML.toLowerCase());

 const lookupname = name.innerHTML.toLowerCase();
 
 const response = await fetch('/api/players?name=' + lookupname);
 console.log("Sent post request for " + lookupname)
 const resdata = await response.json();
 console.log(resdata);
 
 
 points.textContent = resdata[0].gamepoints;
 sets.textContent = resdata[0].setsplayed;
 wins.textContent = resdata[0].gamewins;
 losses.textContent = resdata[0].gamelosses;
 bonuses.textContent = resdata[0].bonuses;
 total.textContent = resdata[0].totalpoints;
 strikes.textContent = resdata[0].strikes;
 console.log("Displayed Data for " + lookupname);
 }

 const points1 = rows[1].getElementsByTagName("TD")[1].innerHTML;
 const points2 = rows[2].getElementsByTagName("TD")[1].innerHTML;
 const points3 = rows[3].getElementsByTagName("TD")[1].innerHTML;
 const points4 = rows[4].getElementsByTagName("TD")[1].innerHTML;
 const totalpoints = parseInt(points1, 10) + parseInt(points2, 10) + parseInt(points3, 10) + parseInt(points4, 10);
 console.log("Got totalpoints: " + totalpoints);
 
 const sets1 = rows[1].getElementsByTagName("TD")[2].innerHTML;
 const sets2 = rows[2].getElementsByTagName("TD")[2].innerHTML;
 const sets3 = rows[3].getElementsByTagName("TD")[2].innerHTML;
 const sets4 = rows[4].getElementsByTagName("TD")[2].innerHTML;
 const totalsets = parseInt(sets1, 10) + parseInt(sets2, 10) + parseInt(sets3, 10) + parseInt(sets4, 10);
 console.log("Got totalsets: " + totalsets);

 const wins1 = rows[1].getElementsByTagName("TD")[3].innerHTML;
 const wins2 = rows[2].getElementsByTagName("TD")[3].innerHTML;
 const wins3 = rows[3].getElementsByTagName("TD")[3].innerHTML;
 const wins4 = rows[4].getElementsByTagName("TD")[3].innerHTML;
 const totalwins = parseInt(wins1, 10) + parseInt(wins2, 10) + parseInt(wins3, 10) + parseInt(wins4, 10);
 console.log("Got totalwins: " + totalwins);

 const losses1 = rows[1].getElementsByTagName("TD")[4].innerHTML;
 const losses2 = rows[2].getElementsByTagName("TD")[4].innerHTML;
 const losses3 = rows[3].getElementsByTagName("TD")[4].innerHTML;
 const losses4 = rows[4].getElementsByTagName("TD")[4].innerHTML;
 const totallosses = parseInt(losses1, 10) + parseInt(losses2, 10) + parseInt(losses3, 10) + parseInt(losses4, 10);
 console.log("Got totallosses: " + totallosses);

 const bonuses1 = rows[1].getElementsByTagName("TD")[5].innerHTML;
 const bonuses2 = rows[2].getElementsByTagName("TD")[5].innerHTML;
 const bonuses3 = rows[3].getElementsByTagName("TD")[5].innerHTML;
 const bonuses4 = rows[4].getElementsByTagName("TD")[5].innerHTML;
 const totalbonuses = parseInt(bonuses1, 10) + parseInt(bonuses2, 10) + parseInt(bonuses3, 10) + parseInt(bonuses4, 10);
 console.log("Got totalbonuses: " + totalbonuses);

 const total1 = rows[1].getElementsByTagName("TD")[6].innerHTML;
 const total2 = rows[2].getElementsByTagName("TD")[6].innerHTML;
 const total3 = rows[3].getElementsByTagName("TD")[6].innerHTML;
 const total4 = rows[4].getElementsByTagName("TD")[6].innerHTML;
 const grandtotal = parseInt(total1, 10) + parseInt(total2, 10) + parseInt(total3, 10) + parseInt(total4, 10);
 console.log("Got grandtotal: " + grandtotal);

 const strikes1 = rows[1].getElementsByTagName("TD")[7].innerHTML;
 const strikes2 = rows[2].getElementsByTagName("TD")[7].innerHTML;
 const strikes3 = rows[3].getElementsByTagName("TD")[7].innerHTML;
 const strikes4 = rows[4].getElementsByTagName("TD")[7].innerHTML;
 const totalstrikes = parseInt(strikes1, 10) + parseInt(strikes2, 10) + parseInt(strikes3, 10) + parseInt(strikes4, 10);
 console.log("Got totalstrikes: " + totalstrikes);

 const pointscell = rows[5].getElementsByTagName("TH")[1];
 const setscell = rows[5].getElementsByTagName("TH")[2];
 const winscell = rows[5].getElementsByTagName("TH")[3];
 const lossescell = rows[5].getElementsByTagName("TH")[4];
 const bonusescell = rows[5].getElementsByTagName("TH")[5];
 const totalcell = rows[5].getElementsByTagName("TH")[6];
 const strikescell = rows[5].getElementsByTagName("TH")[7];
 console.log("Got cells to input total values.")

 pointscell.textContent = totalpoints;
 setscell.textContent = totalsets;
 winscell.textContent = totalwins;
 lossescell.textContent = totallosses;
 bonusescell.textContent = totalbonuses;
 totalcell.textContent = grandtotal;
 strikescell.textContent = totalstrikes;
 console.log("Successfully inputted total values into their respective cells.")
 getData2();
 }

 </script>

<div class="spacer"></div>
<p2>MostImproved (allied with Farm Bois)</p2>
<div class="minispacer"></div>
<table id="scoretable2">
  <tr>
    <th>Gang Member</th>
    <th>Game Points</th>
    <th>Sets Played</th>
    <th>Game Wins</th>
    <th>Game Losses</th>
    <th>Bonuses</th>
    <th>Total Points</th>
    <th>STRIKES</th>
  </tr>
  <tr>
    <td>TheRealPringlesMan</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
  <tr>
    <td>Hunter</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
  <tr>
    <td>Fish With Headphones</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
  <tr>
    <td>The Digital Odyssey</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
    <td>0</td>
  </tr>
<tfoot>
<tr>
  <th>Gang Totals</th>
  <th>0</th>
  <th>0</th>
  <th>0</th>
  <th>0</th>
  <th>0</th>
  <th style="font-size: 2rem;">0</th>
  <th>0</th>
</tr>
  </tfoot>
</table>

<script>

 async function getData2() {
  console.log("Started getData2");
   const table = document.getElementById("scoretable2");
 const rows = table.rows;
 for (i = 1; i < (rows.length - 1); i++) {
 
 const name = rows[i].getElementsByTagName("TD")[0];
 const points = rows[i].getElementsByTagName("TD")[1];
 const sets = rows[i].getElementsByTagName("TD")[2];
 const wins = rows[i].getElementsByTagName("TD")[3];
 const losses = rows[i].getElementsByTagName("TD")[4];
 const bonuses = rows[i].getElementsByTagName("TD")[5];
 const total = rows[i].getElementsByTagName("TD")[6];
 const strikes = rows[i].getElementsByTagName("TD")[7];
 
 console.log("Got row constants for " + name.innerHTML.toLowerCase());

 const lookupname = name.innerHTML.toLowerCase();
 
 const response = await fetch('/api/players?name=' + lookupname);
 console.log("Sent post request for " + lookupname)
 const resdata = await response.json();
 console.log(resdata);
 
 
 points.textContent = resdata[0].gamepoints;
 sets.textContent = resdata[0].setsplayed;
 wins.textContent = resdata[0].gamewins;
 losses.textContent = resdata[0].gamelosses;
 bonuses.textContent = resdata[0].bonuses;
 total.textContent = resdata[0].totalpoints;
 strikes.textContent = resdata[0].strikes;
 console.log("Displayed Data for " + lookupname);
 }

 const points1 = rows[1].getElementsByTagName("TD")[1].innerHTML;
 const points2 = rows[2].getElementsByTagName("TD")[1].innerHTML;
 const points3 = rows[3].getElementsByTagName("TD")[1].innerHTML;
 const points4 = rows[4].getElementsByTagName("TD")[1].innerHTML;
 const totalpoints = parseInt(points1, 10) + parseInt(points2, 10) + parseInt(points3, 10) + parseInt(points4, 10);
 console.log("Got totalpoints: " + totalpoints);
 
 const sets1 = rows[1].getElementsByTagName("TD")[2].innerHTML;
 const sets2 = rows[2].getElementsByTagName("TD")[2].innerHTML;
 const sets3 = rows[3].getElementsByTagName("TD")[2].innerHTML;
 const sets4 = rows[4].getElementsByTagName("TD")[2].innerHTML;
 const totalsets = parseInt(sets1, 10) + parseInt(sets2, 10) + parseInt(sets3, 10) + parseInt(sets4, 10);
 console.log("Got totalsets: " + totalsets);

 const wins1 = rows[1].getElementsByTagName("TD")[3].innerHTML;
 const wins2 = rows[2].getElementsByTagName("TD")[3].innerHTML;
 const wins3 = rows[3].getElementsByTagName("TD")[3].innerHTML;
 const wins4 = rows[4].getElementsByTagName("TD")[3].innerHTML;
 const totalwins = parseInt(wins1, 10) + parseInt(wins2, 10) + parseInt(wins3, 10) + parseInt(wins4, 10);
 console.log("Got totalwins: " + totalwins);

 const losses1 = rows[1].getElementsByTagName("TD")[4].innerHTML;
 const losses2 = rows[2].getElementsByTagName("TD")[4].innerHTML;
 const losses3 = rows[3].getElementsByTagName("TD")[4].innerHTML;
 const losses4 = rows[4].getElementsByTagName("TD")[4].innerHTML;
 const totallosses = parseInt(losses1, 10) + parseInt(losses2, 10) + parseInt(losses3, 10) + parseInt(losses4, 10);
 console.log("Got totallosses: " + totallosses);

 const bonuses1 = rows[1].getElementsByTagName("TD")[5].innerHTML;
 const bonuses2 = rows[2].getElementsByTagName("TD")[5].innerHTML;
 const bonuses3 = rows[3].getElementsByTagName("TD")[5].innerHTML;
 const bonuses4 = rows[4].getElementsByTagName("TD")[5].innerHTML;
 const totalbonuses = parseInt(bonuses1, 10) + parseInt(bonuses2, 10) + parseInt(bonuses3, 10) + parseInt(bonuses4, 10);
 console.log("Got totalbonuses: " + totalbonuses);

 const total1 = rows[1].getElementsByTagName("TD")[6].innerHTML;
 const total2 = rows[2].getElementsByTagName("TD")[6].innerHTML;
 const total3 = rows[3].getElementsByTagName("TD")[6].innerHTML;
 const total4 = rows[4].getElementsByTagName("TD")[6].innerHTML;
 const grandtotal = parseInt(total1, 10) + parseInt(total2, 10) + parseInt(total3, 10) + parseInt(total4, 10);
 console.log("Got grandtotal: " + grandtotal);

 const strikes1 = rows[1].getElementsByTagName("TD")[7].innerHTML;
 const strikes2 = rows[2].getElementsByTagName("TD")[7].innerHTML;
 const strikes3 = rows[3].getElementsByTagName("TD")[7].innerHTML;
 const strikes4 = rows[4].getElementsByTagName("TD")[7].innerHTML;
 const totalstrikes = parseInt(strikes1, 10) + parseInt(strikes2, 10) + parseInt(strikes3, 10) + parseInt(strikes4, 10);
 console.log("Got totalstrikes: " + totalstrikes);

 const pointscell = rows[5].getElementsByTagName("TH")[1];
 const setscell = rows[5].getElementsByTagName("TH")[2];
 const winscell = rows[5].getElementsByTagName("TH")[3];
 const lossescell = rows[5].getElementsByTagName("TH")[4];
 const bonusescell = rows[5].getElementsByTagName("TH")[5];
 const totalcell = rows[5].getElementsByTagName("TH")[6];
 const strikescell = rows[5].getElementsByTagName("TH")[7];
 console.log("Got cells to input total values.")

 pointscell.textContent = totalpoints;
 setscell.textContent = totalsets;
 winscell.textContent = totalwins;
 lossescell.textContent = totallosses;
 bonusescell.textContent = totalbonuses;
 totalcell.textContent = grandtotal;
 strikescell.textContent = totalstrikes;
 console.log("Successfully inputted total values into their respective cells.")

 }

 </script>


</div>
</body>
</HTML>
