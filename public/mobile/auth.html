<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Authenticator</title>
  </head>
  <body>
   
    <form class="form" id="authform">
      <label for="password">Enter Password</label> <br>
      <input type="password" name="password" id="password" style="width: 1230px;"> <br>
      <label for="newPass">New Password</label> <br>
      <input type="password" name="newPass" id="newPass" style="width: 1230px;"> <br>
      <button type="submit">Change Password</button>
    </form>
    <script>
      const testform = document.getElementById("authform");


      testform.addEventListener('submit', async function(e){
        e.preventDefault();
        console.log("Send Password");

        const data = { auth: document.getElementById('password').value, newauth: document.getElementById('newPass').value};
        const options = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        };
        const response = await fetch('/auth', options);
        const resdata = await response.json();
        console.log(resdata);
        document.getElementById('password').value = "";
      });
    </script>
  </body>
</html>
